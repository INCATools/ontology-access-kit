name: Publish Python Package (Dry Run)

on:
  workflow_dispatch:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-n-publish-dry-run:
    strategy:
      matrix:
        python-version: [ "3.9", "3.10", "3.11", "3.12" ]
    name: Build and publish Python üêç distributions üì¶ to PyPI (DRY RUN)
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v6.0.2

    - name: Set up Python
      uses: actions/setup-python@v6.2.0
      with:
        python-version: ${{ matrix.python-version }}

    - name: Install uv
      uses: astral-sh/setup-uv@v7.3.0

    - name: Build source and wheel archives
      run: |
        make build-whl

#    - name: Publish package to TestPyPI
#      uses: pypa/gh-action-pypi-publish@release/v1
#      with:
#        password: "TEST_PASSWORD"
#        repository-url: https://test.pypi.org/legacy/
    