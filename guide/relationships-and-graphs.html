<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Relationships and Graphs &mdash; oaklib  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=046fa432"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Associations and Curated Annotations" href="associations.html" />
    <link rel="prev" title="Obsoletion" href="obsoletion.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            oaklib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The OAK Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basics.html">OAK Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="curies-and-uris.html">Identifying entities: CURIEs and URIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="primary-labels.html">Primary Labels</a></li>
<li class="toctree-l2"><a class="reference internal" href="aliases.html">Aliases and Synonyms</a></li>
<li class="toctree-l2"><a class="reference internal" href="mappings.html">Mappings and Cross-References</a></li>
<li class="toctree-l2"><a class="reference internal" href="obsoletion.html">Obsoletion</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Relationships and Graphs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exploring-relationships">Exploring relationships</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graph-traversal-and-relation-graph-reasoning">Graph Traversal and Relation Graph Reasoning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#graph-traversal-strategies">Graph Traversal Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples-of-where-entailment-yields-more">Examples of where entailment yields more</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples-of-where-graph-traversal-yields-more-ancestors-than-entailment">Examples of where graph traversal yields more ancestors than entailment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#which-strategy-should-i-use">Which strategy should I use?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-note-on-entailed-direct-edges">A note on entailed direct edges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#further-notes-on-owl-and-graph-projection">Further notes on OWL and Graph Projection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="associations.html">Associations and Curated Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="enrichment.html">Enrichment and Over-Representation Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="similarity.html">Computing Similarity between Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning-more.html">Learning More</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages/index.html">OAK Library Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datamodels/index.html">Datamodels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/index.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oaklib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">The OAK Guide</a></li>
      <li class="breadcrumb-item active">Relationships and Graphs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/guide/relationships-and-graphs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="relationships-and-graphs">
<span id="id1"></span><h1>Relationships and Graphs<a class="headerlink" href="#relationships-and-graphs" title="Link to this heading"></a></h1>
<p>One of the main uses of an ontology is to precisely state the <a class="reference internal" href="../glossary.html#term-Relationship"><span class="xref std std-term">Relationships</span></a> between different entities or concepts.</p>
<p>In OAK, classes in ontologies can be related to one another via different <em>relationship types</em>, also known as <a class="reference internal" href="../glossary.html#term-Predicate"><span class="xref std std-term">Predicates</span></a>. These
may come from a relationship type ontology such as <span class="xref std std-term">RO</span>, or they may be a “built-in” construct in <a class="reference internal" href="../glossary.html#term-RDF"><span class="xref std std-term">RDF</span></a> or <a class="reference internal" href="../glossary.html#term-OWL"><span class="xref std std-term">OWL</span></a>
such as <code class="docutils literal notranslate"><span class="pre">rdfs:subClassOf</span></code>.</p>
<p>These can be thought of as a <a class="reference internal" href="../glossary.html#term-Graph"><span class="xref std std-term">Graph</span></a> of concepts and relationships. This is a common idiom
for bioinformatics users of ontologies - but, perhaps surprisingly, graphs do not
feature heavily in Description Logic formalisms of ontologies like <a class="reference internal" href="../glossary.html#term-OWL"><span class="xref std std-term">OWL</span></a>.</p>
<p>Instead there exist a number of different <a class="reference internal" href="../glossary.html#term-Ontology-Graph-Projection"><span class="xref std std-term">Ontology Graph Projection</span></a> methods that
project from OWL to a graph. The fact there is no one standard method can lead to confusion.</p>
<p>But let’s start with a standard bio-ontology example - the <span class="xref std std-term">UBERON</span> ontology.</p>
<section id="exploring-relationships">
<h2>Exploring relationships<a class="headerlink" href="#exploring-relationships" title="Link to this heading"></a></h2>
<p>Let’s explore Uberon, looking at the relationships for <em>hand</em> (“manus”) and <em>foot</em> (“pes”),
which have respective CURIEs <a class="reference external" href="http://purl.obolibrary.org/obo/UBERON_0002398">UBERON:0002398</a>
and <a class="reference external" href="http://purl.obolibrary.org/obo/UBERON_0002387">UBERON:0002387</a>.</p>
<p>We will use the <code class="docutils literal notranslate"><span class="pre">relationships</span></code> method from <a class="reference internal" href="../packages/interfaces/basic.html#basic-ontology-interface"><span class="std std-ref">Basic Ontology Interface</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">oaklib</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_adapter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adapter</span> <span class="o">=</span> <span class="n">get_adapter</span><span class="p">(</span><span class="s2">&quot;sqlite:obo:uberon&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">relationships</span><span class="p">([</span><span class="s2">&quot;UBERON:0002398&quot;</span><span class="p">,</span> <span class="s2">&quot;UBERON:0002387&quot;</span><span class="p">]):</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">rel</span><span class="p">)</span>
<span class="go">(&#39;UBERON:0002387&#39;, &#39;BFO:0000050&#39;, &#39;UBERON:0002103&#39;)</span>
<span class="go">(&#39;UBERON:0002387&#39;, &#39;RO:0002202&#39;, &#39;UBERON:0006871&#39;)</span>
<span class="go">(&#39;UBERON:0002387&#39;, &#39;RO:0002551&#39;, &#39;UBERON:0001445&#39;)</span>
<span class="go">(&#39;UBERON:0002387&#39;, &#39;rdfs:subClassOf&#39;, &#39;UBERON:0002470&#39;)</span>
<span class="go">(&#39;UBERON:0002387&#39;, &#39;rdfs:subClassOf&#39;, &#39;UBERON:0008784&#39;)</span>
<span class="go">(&#39;UBERON:0002398&#39;, &#39;BFO:0000050&#39;, &#39;UBERON:0002102&#39;)</span>
<span class="go">(&#39;UBERON:0002398&#39;, &#39;RO:0002202&#39;, &#39;UBERON:0006875&#39;)</span>
<span class="go">(&#39;UBERON:0002398&#39;, &#39;RO:0002551&#39;, &#39;UBERON:0001442&#39;)</span>
<span class="go">(&#39;UBERON:0002398&#39;, &#39;rdfs:subClassOf&#39;, &#39;UBERON:0002470&#39;)</span>
<span class="go">(&#39;UBERON:0002398&#39;, &#39;rdfs:subClassOf&#39;, &#39;UBERON:0008785&#39;)</span>
</pre></div>
</div>
<p>Each line is Relationship <em>tuple</em>, <code class="docutils literal notranslate"><span class="pre">(SUBJECT,</span> <span class="pre">PREDICATE,</span> <span class="pre">OBJECT)</span></code>.</p>
<p>We can make this more human readable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">relationships</span><span class="p">([</span><span class="s2">&quot;UBERON:0002398&quot;</span><span class="p">,</span> <span class="s2">&quot;UBERON:0002387&quot;</span><span class="p">]):</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">((</span><span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">o</span><span class="p">)))</span>
<span class="go">(&#39;pes&#39;, &#39;part of&#39;, &#39;hindlimb&#39;)</span>
<span class="go">(&#39;pes&#39;, &#39;develops from&#39;, &#39;embryonic footplate&#39;)</span>
<span class="go">(&#39;pes&#39;, &#39;has skeleton&#39;, &#39;skeleton of pes&#39;)</span>
<span class="go">(&#39;pes&#39;, None, &#39;autopod region&#39;)</span>
<span class="go">(&#39;pes&#39;, None, &#39;lower limb segment&#39;)</span>
<span class="go">(&#39;manus&#39;, &#39;part of&#39;, &#39;forelimb&#39;)</span>
<span class="go">(&#39;manus&#39;, &#39;develops from&#39;, &#39;embryonic handplate&#39;)</span>
<span class="go">(&#39;manus&#39;, &#39;has skeleton&#39;, &#39;skeleton of manus&#39;)</span>
<span class="go">(&#39;manus&#39;, None, &#39;autopod region&#39;)</span>
<span class="go">(&#39;manus&#39;, None, &#39;upper limb segment&#39;)</span>
</pre></div>
</div>
<p>(note subClassOf / <span class="xref std std-term">IS_A</span> labels are outside the ontology so they have no labels)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>if you are used to working with OWL and the underlying RDF/OWL representation
the presentation as simple triads above can be confusing, as these are not actually
modeled as triples in the ontology, but rather as more complex axioms involving
constructs like existential restriction. These axioms are <em>projected</em> onto a graph
representation. We will return to this topic later.</p>
</div>
</section>
<section id="graph-traversal-and-relation-graph-reasoning">
<h2>Graph Traversal and Relation Graph Reasoning<a class="headerlink" href="#graph-traversal-and-relation-graph-reasoning" title="Link to this heading"></a></h2>
<p>The above examples show <a class="reference internal" href="../glossary.html#term-Asserted"><span class="xref std std-term">Asserted</span></a> Relationships between concepts. A common
use case for ontologies is exploring <em>indirect</em> or <a class="reference internal" href="../glossary.html#term-Entailed"><span class="xref std std-term">Entailed</span></a> Relationships,
which roughly corresponds to the concept of <a class="reference internal" href="../glossary.html#term-Ancestor"><span class="xref std std-term">Ancestor</span></a> in a graph.</p>
<p>We will use the <code class="docutils literal notranslate"><span class="pre">ancestors</span></code> method from <a class="reference internal" href="../packages/interfaces/basic.html#basic-ontology-interface"><span class="std std-ref">Basic Ontology Interface</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">oaklib.selector</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_adapter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">oaklib.datamodels.vocabulary</span><span class="w"> </span><span class="kn">import</span> <span class="n">IS_A</span><span class="p">,</span> <span class="n">PART_OF</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adapter</span> <span class="o">=</span> <span class="n">get_adapter</span><span class="p">(</span><span class="s2">&quot;sqlite:obo:uberon&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">anc</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;UBERON:0002398&quot;</span><span class="p">,</span> <span class="n">predicates</span><span class="o">=</span><span class="p">[</span><span class="n">IS_A</span><span class="p">,</span> <span class="n">PART_OF</span><span class="p">])):</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">anc</span><span class="si">}</span><span class="s2"> &#39;</span><span class="si">{</span><span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">anc</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<span class="go">BFO:0000001 &#39;entity&#39;</span>
<span class="go">BFO:0000002 &#39;continuant&#39;</span>
<span class="go">BFO:0000004 &#39;independent continuant&#39;</span>
<span class="go">BFO:0000040 &#39;material entity&#39;</span>
<span class="go">...</span>
<span class="go">UBERON:0000026 &#39;appendage&#39;</span>
<span class="go">UBERON:0000061 &#39;anatomical structure&#39;</span>
<span class="go">UBERON:0000153 &#39;anterior region of body&#39;</span>
<span class="go">UBERON:0000465 &#39;material anatomical entity&#39;</span>
<span class="go">UBERON:0000468 &#39;multicellular organism&#39;</span>
<span class="go">UBERON:0000475 &#39;organism subdivision&#39;</span>
<span class="go">UBERON:0001062 &#39;anatomical entity&#39;</span>
<span class="go">UBERON:0002101 &#39;limb&#39;</span>
<span class="go">...</span>
</pre></div>
</div>
<section id="graph-traversal-strategies">
<h3>Graph Traversal Strategies<a class="headerlink" href="#graph-traversal-strategies" title="Link to this heading"></a></h3>
<p>There are actually <em>two</em> strategies for getting indirect relationships in OAK:</p>
<ul class="simple">
<li><p>HOP, aka <a class="reference internal" href="../glossary.html#term-Graph-Traversal"><span class="xref std std-term">Graph Traversal</span></a></p></li>
<li><p>ENTAILMENT, aka <a class="reference internal" href="../glossary.html#term-Reasoning"><span class="xref std std-term">Reasoning</span></a></p></li>
</ul>
<p>You can specify which you would like, but if you leave this open the adapter will choose a
default. Not all adapters can implement both strategies.</p>
<p>What are the differences? In many cases the results are the same, but formally the differences are:</p>
<ul class="simple">
<li><p>HOP yields all nodes that can be traversed via zero or more hops from the specified starting point(s),
over the specified relationships</p></li>
<li><p>ENTAILMENT uses deductive reasoning to compute inferred relationships, and yields any relationships
whose entailed predicate matches the input list</p></li>
</ul>
<p>Currently the following OAK adapters incorporate entailment:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../packages/implementations/ubergraph.html#ubergraph-implementation"><span class="std std-ref">Ubergraph Adapter</span></a></p></li>
<li><p><a class="reference internal" href="../packages/implementations/sqldb.html#sql-implementation"><span class="std std-ref">SQL Database Adapter</span></a></p></li>
</ul>
<p>In both cases the entailment is done ahead of time using <a class="reference internal" href="../glossary.html#term-Relation-Graph"><span class="xref std std-term">Relation Graph</span></a> to compute the
entailed edges.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We have experimental support for entailment with other adapters, this requires
having <code class="docutils literal notranslate"><span class="pre">relation-graph</span></code> on the command line.</p>
</div>
</section>
<section id="examples-of-where-entailment-yields-more">
<h3>Examples of where entailment yields more<a class="headerlink" href="#examples-of-where-entailment-yields-more" title="Link to this heading"></a></h3>
<p>Assuming we have edges:</p>
<ul class="simple">
<li><p>A has-part B (in OWL: A SubClassOf has-part some B)</p></li>
<li><p>B part-of C (in OWL: B SubClassOf part-of some C)</p></li>
</ul>
<p>And additionally, the ontology contains a <span class="xref std std-term">Property Chain</span> axiom:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">has-part</span> <span class="pre">o</span> <span class="pre">part-of</span> <span class="pre">-&gt;</span> <span class="pre">overlaps</span></code></p></li>
</ul>
<p>Then using the entailment strategy we get an entailed edge:</p>
<ul class="simple">
<li><p>A overlaps C (in OWL: A SubClassOf overlaps some C)</p></li>
</ul>
<p>Using graph traversal will tell us that there is at least one path between A and B,
and that this path involves hoping over two predicates, but it doesn’t give us
<em>precise</em> information about the relationship between A and C.</p>
<p>Furthermore, if we use graph traversal and don’t filter over predicates, then
we may end up with lots of essentially meaningless paths, especially if the ontology
makes use of extensive relationships from an ontology like RO.</p>
<p>Let’s make this more concrete with a subset of an actual ontology:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0012505</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">endomembrane system</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0110165 ! cellular anatomical entity</span>
<span class="nt">relationship</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">has_part GO:0005773 ! vacuole</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0005773</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vacuole</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043231 ! intracellular membrane-bounded organelle</span>
<span class="nt">relationship</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">part_of GO:0005737 ! cytoplasm</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043227</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">membrane-bounded organelle</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043226 ! organelle</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043229</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">intracellular organelle</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043226 ! organelle</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043231</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">intracellular membrane-bounded organelle</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043227 ! membrane-bounded organelle</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043229 ! intracellular organelle</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0043226</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">organelle</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0110165 ! cellular anatomical entity</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0005737</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cytoplasm</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0110165 ! cellular anatomical entity</span>

<span class="p p-Indicator">[</span><span class="nv">Term</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GO:0110165</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cellular anatomical entity</span>

<span class="p p-Indicator">[</span><span class="nv">Typedef</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">part_of</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">part of</span>
<span class="nt">xref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BFO:0000050</span>
<span class="nt">is_transitive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlaps</span>

<span class="p p-Indicator">[</span><span class="nv">Typedef</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">has_part</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">has part</span>
<span class="nt">xref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BFO:0000051</span>
<span class="nt">inverse_of</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">part_of</span>
<span class="nt">is_a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlaps</span>

<span class="p p-Indicator">[</span><span class="nv">Typedef</span><span class="p p-Indicator">]</span>
<span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlaps</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlaps</span>
<span class="nt">xref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RO:0002131</span>
<span class="nt">holds_over_chain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">has_part part_of</span>
</pre></div>
</div>
<p>We use <a class="reference internal" href="../glossary.html#term-OBO-Format"><span class="xref std std-term">OBO Format</span></a> for compactness here, but the same thing that can be done in
OWL. Note the <code class="docutils literal notranslate"><span class="pre">holds_over_chain</span></code> axiom, which is a <span class="xref std std-term">Property Chain</span> axiom.</p>
<p>The ontology can be visualized:</p>
<figure class="align-default" id="id2">
<img alt="../_images/entailment-example.png" class="with-border" src="../_images/entailment-example.png" />
<figcaption>
<p><span class="caption-text">Example sub-ontology focused on the endomembrane system (<a class="reference external" href="GO:0012505">GO:0012505</a>).
This is a simplified subset of GO for demo purposes. Figure generated using
<code class="docutils literal notranslate"><span class="pre">runoak</span> <span class="pre">viz</span> <span class="pre">-i</span> <span class="pre">tests/input/entailment-tutorial.obo</span> <span class="pre">&quot;endomembrane</span> <span class="pre">system&quot;</span></code></span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Let’s load up the ontology:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adapter</span> <span class="o">=</span> <span class="n">get_adapter</span><span class="p">(</span><span class="s2">&quot;simpleobo:tests/input/entailment-tutorial.obo&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now let’s use the default graph traversal to get the ancestors of <code class="docutils literal notranslate"><span class="pre">GO:0012505</span></code> <em>endomembrane system</em>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">)))</span>
<span class="go">8</span>
</pre></div>
</div>
<p>This is all the nodes in the graph (including the query node itself, as operations
are by default <a class="reference internal" href="../glossary.html#term-Reflexive"><span class="xref std std-term">Reflexive</span></a>).</p>
<p>Now let’s use the entailment strategy to get <a class="reference internal" href="../glossary.html#term-Entailed"><span class="xref std std-term">Entailed</span></a> ancestors:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">oaklib.interfaces.obograph_interface</span><span class="w"> </span><span class="kn">import</span> <span class="n">GraphTraversalMethod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">ENTAILMENT</span><span class="p">)))</span>
<span class="go">8</span>
</pre></div>
</div>
<p>Identical results! (Later on we will use an example where the results are different).</p>
<p>One advantage of the entailment strategy is that we can see the inferred
relationship between any term pair. To do this, we use the <code class="docutils literal notranslate"><span class="pre">relationships</span></code>
method in <a class="reference internal" href="../packages/interfaces/basic.html#basic-ontology-interface"><span class="std std-ref">Basic Ontology Interface</span></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">relationships</span><span class="p">([</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">include_entailed</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>
<span class="go">BFO:0000051 GO:0005773 vacuole</span>
<span class="go">BFO:0000051 GO:0043226 organelle</span>
<span class="go">BFO:0000051 GO:0043227 membrane-bounded organelle</span>
<span class="go">BFO:0000051 GO:0043229 intracellular organelle</span>
<span class="go">BFO:0000051 GO:0043231 intracellular membrane-bounded organelle</span>
<span class="go">BFO:0000051 GO:0110165 cellular anatomical entity</span>
<span class="go">RO:0002131 GO:0005737 cytoplasm</span>
<span class="go">RO:0002131 GO:0005773 vacuole</span>
<span class="go">RO:0002131 GO:0043226 organelle</span>
<span class="go">RO:0002131 GO:0043227 membrane-bounded organelle</span>
<span class="go">RO:0002131 GO:0043229 intracellular organelle</span>
<span class="go">RO:0002131 GO:0043231 intracellular membrane-bounded organelle</span>
<span class="go">RO:0002131 GO:0110165 cellular anatomical entity</span>
<span class="go">rdfs:subClassOf GO:0012505 endomembrane system</span>
<span class="go">rdfs:subClassOf GO:0110165 cellular anatomical entity</span>
</pre></div>
</div>
<p>No equivalent operation exists for graph traversal.</p>
<p>However, it is possible to use the <code class="docutils literal notranslate"><span class="pre">paths</span></code> method to see all paths, e.g. between
endomembrane system and cytoplasm:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_s</span><span class="p">,</span> <span class="n">_e</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">paths</span><span class="p">([</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">],</span>
<span class="gp">... </span>                                         <span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                                         <span class="n">target_curies</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GO:0005737&quot;</span><span class="p">])):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="go">GO:0005737</span>
<span class="go">GO:0005773</span>
<span class="go">GO:0012505</span>
</pre></div>
</div>
<p>This is the list of intermediate nodes.</p>
<p>We can also see a difference if we restrict the graph traversal to specified
predicates, e.g. has-part (BFO:0000051):</p>
<p>With the default method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">predicates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;BFO:0000051&quot;</span><span class="p">],</span>
<span class="gp">... </span>                                  <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">HOP</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">GO:0005773 vacuole</span>
<span class="go">GO:0012505 endomembrane system</span>
</pre></div>
</div>
<p>Here the ancestors method is walking the graph, and performing
a direct filter on edges.</p>
<p>With entailment</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">predicates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;BFO:0000051&quot;</span><span class="p">],</span>
<span class="gp">... </span>                                  <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">ENTAILMENT</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">GO:0005773 vacuole</span>
<span class="go">GO:0043226 organelle</span>
<span class="go">GO:0043227 membrane-bounded organelle</span>
<span class="go">GO:0043229 intracellular organelle</span>
<span class="go">GO:0043231 intracellular membrane-bounded organelle</span>
<span class="go">GO:0110165 cellular anatomical entity</span>
</pre></div>
</div>
<p>Here the entailment strategy yields all ancestors <em>A</em> such that the
axiom “endomembrane system SubClassOf has-part some <em>A</em>” is true.</p>
<p>This difference is further marked when we query using the overlaps (RO:0002131) relation. Note
this is not <a class="reference internal" href="../glossary.html#term-Asserted"><span class="xref std std-term">Asserted</span></a> in the sample ontology.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">predicates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RO:0002131&quot;</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="n">reflexive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">HOP</span><span class="p">))</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>But if we ask the same question using the entailment strategy, we
get everything that overlaps with the endomembrane system:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">predicates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RO:0002131&quot;</span><span class="p">],</span>
<span class="gp">... </span>                                  <span class="n">reflexive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">ENTAILMENT</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">GO:0005737 cytoplasm</span>
<span class="go">GO:0005773 vacuole</span>
<span class="go">GO:0043226 organelle</span>
<span class="go">GO:0043227 membrane-bounded organelle</span>
<span class="go">GO:0043229 intracellular organelle</span>
<span class="go">GO:0043231 intracellular membrane-bounded organelle</span>
<span class="go">GO:0110165 cellular anatomical entity</span>
</pre></div>
</div>
</section>
<section id="examples-of-where-graph-traversal-yields-more-ancestors-than-entailment">
<h3>Examples of where graph traversal yields more ancestors than entailment<a class="headerlink" href="#examples-of-where-graph-traversal-yields-more-ancestors-than-entailment" title="Link to this heading"></a></h3>
<p>Let’s extend our ontology by adding an additional edge:</p>
<ul class="simple">
<li><p>cytoplasm has-characteristic liquid (PATO:0001735)</p></li>
</ul>
<p>Our ontology now looks like:</p>
<figure class="align-default" id="id3">
<img alt="../_images/entailment-example-2.png" class="with-border" src="../_images/entailment-example-2.png" />
<figcaption>
<p><span class="caption-text">This extends the previous figure by the addition of a new edge
with a new predicate (has-characteristic).
Figure generated using <code class="docutils literal notranslate"><span class="pre">runoak</span> <span class="pre">viz</span> <span class="pre">-i</span> <span class="pre">tests/input/entailment-tutorial-2.obo</span></code></span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Let’s load up the 2nd ontology:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adapter</span> <span class="o">=</span> <span class="n">get_adapter</span><span class="p">(</span><span class="s2">&quot;simpleobo:tests/input/entailment-tutorial-2.obo&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s compare the results of the two strategies, without filtering for predicates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hop_ancs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">HOP</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ent_ancs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">ancestors</span><span class="p">(</span><span class="s2">&quot;GO:0012505&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">method</span><span class="o">=</span><span class="n">GraphTraversalMethod</span><span class="o">.</span><span class="n">ENTAILMENT</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">hop_ancs</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">ent_ancs</span><span class="p">)</span>
<span class="go">(9, 8)</span>
</pre></div>
</div>
<p>This time the HOP strategy gives us one additional ancestor. We can see which one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">hop_ancs</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">ent_ancs</span><span class="p">)</span>
<span class="go">{&#39;PATO:0001735&#39;}</span>
</pre></div>
</div>
<figure class="align-default" id="id4">
<img alt="../_images/entailment-example-2-paths.png" class="with-border" src="../_images/entailment-example-2-paths.png" />
<figcaption>
<p><span class="caption-text">Figure generated using <code class="docutils literal notranslate"><span class="pre">runoak</span>&#160;&#160; <span class="pre">--stacktrace</span>&#160; <span class="pre">-i</span> <span class="pre">tests/input/entailment-tutorial-2.obo</span> <span class="pre">paths</span> <span class="pre">&quot;endomembrane</span> <span class="pre">system&quot;</span> <span class="pre">&#64;</span> <span class="pre">PATO:0001735</span>&#160; <span class="pre">--viz</span> <span class="pre">--directed</span> <span class="pre">--include-predicates</span></code></span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>On the one hand this increased recall can be seen as an advantage of HOPping over
a graph. On the other, the relationship between endomembrane system and liquid is not
particularly <em>meaningful</em>, and may even be misleading (the endomembrane system is not
itself liquid). If we decided that there is a meaningful named relation we want to use,
then we can name it and define it with a property chain, and add it. E.g.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">has_part_with_characteristic</span> <span class="pre">&lt;-</span> <span class="pre">has-part</span> <span class="pre">o</span> <span class="pre">has-characteristic</span></code></p></li>
</ul>
<p>But this would be a fairly odd predicate with many entailed edges (e.g. a human body
would stand in this relationship type to just about every property imaginable, e.g
charges of all chemicals, morphologies of all cells, …).</p>
<p>On the other hand there are cases where the ontology developers have not anticipated
all possible property chains, and in these cases the graph traversal strategy may yield
potentially useful results.</p>
</section>
<section id="which-strategy-should-i-use">
<h3>Which strategy should I use?<a class="headerlink" href="#which-strategy-should-i-use" title="Link to this heading"></a></h3>
<p>The entailment strategy will give you more <em>precise</em>, <em>meaningful</em> results, but it
may miss entailed edges you care about, especially if the ontology you are using
does not make extensive use of property chains.</p>
<p>The graph traversal strategy will give you more <em>complete</em> results, the resulting
paths may be meaningless, especially if you don’t constrain the predicates.</p>
</section>
<section id="a-note-on-entailed-direct-edges">
<h3>A note on entailed direct edges<a class="headerlink" href="#a-note-on-entailed-direct-edges" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a fairly advanced topic that isn’t necessary for working with most
ontologies.</p>
</div>
<p>Readers who are coming from an advanced OWL background may at this point be wondering
why we don’t mention another category of entailed edges, specifically <span class="xref std std-term">Direct</span> edges
that are entailed, but not <a class="reference internal" href="../glossary.html#term-Asserted"><span class="xref std std-term">Asserted</span></a>.</p>
<p>For example, if we have an ontology with edges:</p>
<ul class="simple">
<li><p>MesentericVein drains SmallIntestine (or in OWL: MesentericVein SubClassOf drains some SmallIntestine)</p></li>
<li><p>drains Domain Vein</p></li>
</ul>
<p>Then OWL entailment will yield an edge:</p>
<ul class="simple">
<li><p>MesentericVein rdfs:subClassOf Vein</p></li>
</ul>
<p>This <em>may</em> be a direct edge (if there is not a more specific vein classification),
and in principle it <em>may</em> be the case that this is not asserted</p>
<p>However, OAK is designed for working with <em>released</em> versions of ontologies,
which should be <em>pre-classified</em>. This means that all edges that are both <span class="xref std std-term">Direct</span>
and <a class="reference internal" href="../glossary.html#term-Entailed"><span class="xref std std-term">Entailed</span></a> should also be <a class="reference internal" href="../glossary.html#term-Asserted"><span class="xref std std-term">Asserted</span></a>.</p>
</section>
</section>
<section id="further-notes-on-owl-and-graph-projection">
<h2>Further notes on OWL and Graph Projection<a class="headerlink" href="#further-notes-on-owl-and-graph-projection" title="Link to this heading"></a></h2>
<p>Many ontologies use the OWL language to express relationships between entities. The OWL
representation is not directly a graph, but different kinds of OWL axioms can be <em>projected</em>
onto graph edges. This kind of projection is common, but lacks standardization.</p>
<p>Two of the most common patterns in OWL ontologies are:</p>
<ul class="simple">
<li><p>SubClassOf between two named classes (e.g. Finger SubClassOf Digit)</p></li>
<li><p>SubClassOf between a named class and a simple existential restriction (e.g. Digit SubClassOf part-of some Hand)</p></li>
</ul>
<p>It’s a de-facto standard that these are both projected to graph edges (the former to an is-a or SubClassOf edge,
the latter to a part-of edge). This can be seen e.g. in ontology browsers such as the OLS. These two kinds of
axioms are very common in bio-ontologies. However, there is a lack of standardization in how more complex axioms
should be mapped to edges, or whether they should be.</p>
<p>The following table outlines some common patterns and whether these are projected to edges in common tools:</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">OWL to Graph Projections</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>OWL Axiom</p></th>
<th class="head"><p>Graph Projection</p></th>
<th class="head"><p>SQL Adapter</p></th>
<th class="head"><p>Relation Graph</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A SubClassOf B</p></td>
<td><p>rdfs:subClassOf B</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>A SubClassOf R some B</p></td>
<td><p>A R B</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>A SubClassOf R value B</p></td>
<td><p>A R B</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>A SubClassOf R only B</p></td>
<td><p>A R B</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>A SubClassOf R max 0 B</p></td>
<td><p>A R B</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>I type A</p></td>
<td><p>I rdf:type A</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>I type R some A</p></td>
<td><p>I R A</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>I type R value A</p></td>
<td><p>I R A</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>I Facts: R J</p></td>
<td><p>I R J</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference external" href="https://github.com/linkml/owlstar">OWLStar</a> for progress towards a standardization of OWL
graph projections for property graphs - this also includes proposals for labeling edges with axiom
types as well as additional semantic information (e.g. cardinality) and annotations.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="obsoletion.html" class="btn btn-neutral float-left" title="Obsoletion" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="associations.html" class="btn btn-neutral float-right" title="Associations and Curated Annotations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2026, OAK developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>