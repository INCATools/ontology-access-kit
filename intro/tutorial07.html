<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Part 7: SQLite files &mdash; oaklib  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Part 8: Applying Changes to Ontologies" href="tutorial08.html" />
    <link rel="prev" title="Part 6: Working With OWL" href="tutorial06.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> oaklib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial01.html">Part 1: Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial02.html">Part 2: Basic Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial03.html">Part 3: Ubergraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial04.html">Part 4: OboGraphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial05.html">Part 5: Graph Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial06.html">Part 6: Working With OWL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Part 7: SQLite files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#download-a-sqlite-file">Download a SQLite file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-your-own-sqlite-files">Building your own SQLite files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#with-docker">With docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#without-docker">Without docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-rdbmss">Other RDBMSs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-orm">Python ORM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial08.html">Part 8: Applying Changes to Ontologies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces/index.html">Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../implementations/index.html">Implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../selectors.html">Ontology Implementation Selectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datamodels/index.html">Datamodels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/index.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Ontology Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oaklib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Tutorial</a> &raquo;</li>
      <li>Part 7: SQLite files</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/intro/tutorial07.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="part-7-sqlite-files">
<span id="tutorial07"></span><h1>Part 7: SQLite files<a class="headerlink" href="#part-7-sqlite-files" title="Permalink to this headline"></a></h1>
<p>The most efficient way to work with OAK is through SQLite files. OAK accepts SQLite files that follow the <a class="reference external" href="https://github.com/INCATools/semantic-sql">Semantic SQL</a> schema.</p>
<p>The <span class="xref std std-ref">SqlImplementation</span> wraps SQLite or any relational database.</p>
<section id="download-a-sqlite-file">
<h2>Download a SQLite file<a class="headerlink" href="#download-a-sqlite-file" title="Permalink to this headline"></a></h2>
<p>You can download ready made SQLite files for any <span class="xref std std-term">OBO</span> Librray ontology</p>
<p>For example: <a class="reference external" href="https://s3.amazonaws.com/bbop-sqlite/hp.db">https://s3.amazonaws.com/bbop-sqlite/hp.db</a></p>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">obosqlite</span></code> ontology selector:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">runoak</span> <span class="o">-</span><span class="n">i</span> <span class="n">sqlite</span><span class="p">:</span><span class="n">obo</span><span class="p">:</span><span class="n">pato</span> <span class="n">search</span> <span class="n">t</span><span class="o">~</span><span class="n">shape</span>
</pre></div>
</div>
<p>This will download the pato.db sqlite file once, and cache it</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The ready-made SQLite files are not made at regular intervals</p>
</div>
</section>
<section id="building-your-own-sqlite-files">
<h2>Building your own SQLite files<a class="headerlink" href="#building-your-own-sqlite-files" title="Permalink to this headline"></a></h2>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">semsql</span></code> command that should be pre-installed with OAK</p>
<p>There are two paths</p>
<ul class="simple">
<li><p>using ODK docker</p></li>
<li><p>without docker, with dependencies pre-installed</p></li>
</ul>
<section id="with-docker">
<h3>With docker<a class="headerlink" href="#with-docker" title="Permalink to this headline"></a></h3>
<p>If you have an OWL file in <code class="docutils literal notranslate"><span class="pre">path/to/obi.owl</span></code></p>
<p>Then you can do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">semsql</span> <span class="n">make</span> <span class="o">--</span><span class="n">docker</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">obi</span><span class="o">.</span><span class="n">db</span>
</pre></div>
</div>
<p>This will do a one-time build of obi.db, using the ODK docker. You will need Docker installed (but you don’t need to do anythiong else)</p>
<p>You can then query the file as normal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">runoak</span> <span class="o">-</span><span class="n">i</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">obi</span><span class="o">.</span><span class="n">db</span> <span class="n">info</span> <span class="n">assay</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>for this to work, the OWL file <strong>must</strong> be in RDF/XML. Also, imports merging will NOT be done by default,
please merge in advance using ROBOT if this is your desired behavior.</p>
</div>
</section>
<section id="without-docker">
<h3>Without docker<a class="headerlink" href="#without-docker" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">semsql</span> <span class="n">make</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">obi</span><span class="o">.</span><span class="n">db</span>
</pre></div>
</div>
<p>However, for this to work you will need two dependencies loaded and on your path</p>
<ul class="simple">
<li><p>rdftab</p></li>
<li><p>relation-graph</p></li>
</ul>
<p>Consult the <cite>SemSQL &lt;https://github.com/INCATools/semantic-sql&gt;</cite> docs for more details.</p>
<p>In future we hope to wrap these more seamlessly in Python</p>
</section>
</section>
<section id="other-rdbmss">
<h2>Other RDBMSs<a class="headerlink" href="#other-rdbmss" title="Permalink to this headline"></a></h2>
<p>We avoid SQLite specific features so in theory OAK should work with any RDBMS that follows the semantic-sql schema,
but currently SQLite is the focus of development and testing</p>
</section>
<section id="python-orm">
<h2>Python ORM<a class="headerlink" href="#python-orm" title="Permalink to this headline"></a></h2>
<p>OAK abstracts away the details of the underlying database and ways of accessing it, but for some purposes you
may wish to write direct SQL or use the ORM layer. Consult SemSQL docs for details.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial06.html" class="btn btn-neutral float-left" title="Part 6: Working With OWL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial08.html" class="btn btn-neutral float-right" title="Part 8: Applying Changes to Ontologies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OAK developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>