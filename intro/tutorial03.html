<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Part 3: Triplestore Backends &mdash; oaklib  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Part 4: OboGraphs" href="tutorial04.html" />
    <link rel="prev" title="Part 2: Basic Python" href="tutorial02.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            oaklib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial01.html">Part 1: Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial02.html">Part 2: Basic Python</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Part 3: Triplestore Backends</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#triplestore-concepts">Triplestore Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ubergraph">Ubergraph</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#connecting">Connecting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#basic-operations">Basic Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relationships">Relationships</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial04.html">Part 4: OboGraphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial05.html">Part 5: Graph Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial06.html">Part 6: Working With OWL</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial07.html">Part 7: SQLite files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial08.html">Part 8: Applying Changes to Ontologies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">The OAK Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages/index.html">Package Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datamodels/index.html">Datamodels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/index.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oaklib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Tutorial</a></li>
      <li class="breadcrumb-item active">Part 3: Triplestore Backends</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/intro/tutorial03.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="part-3-triplestore-backends">
<h1>Part 3: Triplestore Backends<a class="headerlink" href="#part-3-triplestore-backends" title="Permalink to this heading"></a></h1>
<p>Previously we have been working with <em>local</em> ontology files in sqlite format, following the <a class="reference internal" href="../glossary.html#term-Semantic-SQL"><span class="xref std std-term">Semantic SQL</span></a> schema.
We will now show how OAK can be used to access information in a remote <a class="reference internal" href="../glossary.html#term-Triplestore"><span class="xref std std-term">Triplestore</span></a>. The same approach can be used to
query local files in any <a class="reference internal" href="../glossary.html#term-RDF"><span class="xref std std-term">RDF</span></a> format such as <span class="xref std std-term">Turtle</span>.</p>
<section id="triplestore-concepts">
<h2>Triplestore Concepts<a class="headerlink" href="#triplestore-concepts" title="Permalink to this heading"></a></h2>
<p>There are a number of triplestores that include ontology content queryable using <a class="reference internal" href="../glossary.html#term-SPARQL"><span class="xref std std-term">SPARQL</span></a>.</p>
<p>OAK includes built in support for a number of triplestores, including:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../glossary.html#term-Ubergraph"><span class="xref std std-term">Ubergraph</span></a>, an enriched triplestore containing a core set of biological ontologies</p></li>
<li><p><a class="reference internal" href="../glossary.html#term-Ontobee"><span class="xref std std-term">Ontobee</span></a>, a triplestore including all <span class="xref std std-term">OBO Foundry</span> ontologies</p></li>
<li><p><span class="xref std std-term">Wikidata</span>, a triplestore containing a broad set of knowledge encodes as triples</p></li>
<li><p><span class="xref std std-term">LOV</span>, (Linked Open Vocabularies), a triplestore containing generic semantic web ontologies and ontology-like schemas</p></li>
</ul>
<p>Additionally, <strong>OAK is capable of treating any local RDF file on disk as if it were a triplestore</strong></p>
<p>All triplestores are fairly standardized in that they all conform to the SPARQL standard. However, triplestores differ in
how they store ontologies, and different ontologies conform to different metadata standards. This means it can be challenging
writing code with uniform behavior across different triplestores. OAK attempts to bridge these differences as far as possible.
OAK interfaces specify the logical operation, and behind the scenes, OAK will emit the most appropriate SPARQL query.</p>
</section>
<section id="ubergraph">
<h2>Ubergraph<a class="headerlink" href="#ubergraph" title="Permalink to this heading"></a></h2>
<p>For full documentation, see <a class="reference internal" href="../packages/implementations/ubergraph.html#ubergraph-implementation"><span class="std std-ref">Ubergraph Adapter</span></a></p>
<section id="connecting">
<h3>Connecting<a class="headerlink" href="#connecting" title="Permalink to this heading"></a></h3>
<p>In this example we will use the <code class="docutils literal notranslate"><span class="pre">ontologies()</span></code> method for <a class="reference internal" href="../packages/interfaces/basic.html#basic-ontology-interface"><span class="std std-ref">Basic Ontology Interface</span></a> to list
all ontologies the adapter knows about.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">oaklib</span> <span class="kn">import</span> <span class="n">get_adapter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adapter</span> <span class="o">=</span> <span class="n">get_adapter</span><span class="p">(</span><span class="s2">&quot;ubergraph:&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ont</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">ontologies</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">ont</span><span class="p">)</span>

<span class="gp">...</span>
<span class="go">bspo.owl</span>
<span class="go">chebi.owl</span>
<span class="gp">...</span>
</pre></div>
</div>
</section>
<section id="basic-operations">
<h3>Basic Operations<a class="headerlink" href="#basic-operations" title="Permalink to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">term_id</span> <span class="o">=</span> <span class="s2">&quot;UBERON:0002544&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">term_id</span><span class="p">))</span>
<span class="go">digit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">definition</span><span class="p">(</span><span class="n">term_id</span><span class="p">))</span>
<span class="go">A subdivision of the autopod that has as part a...</span>
</pre></div>
</div>
</section>
<section id="relationships">
<h3>Relationships<a class="headerlink" href="#relationships" title="Permalink to this heading"></a></h3>
<p>We can query for <span class="xref std std-term">Asserted Relationships</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">relationships</span><span class="p">([</span><span class="n">term_id</span><span class="p">]):</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">rel</span><span class="p">)</span>

<span class="gp">...</span>
<span class="go">(&#39;UBERON:0002544&#39;, &#39;RO:0002160&#39;, &#39;NCBITaxon:32523&#39;)</span>
<span class="gp">...</span>
<span class="go">(&#39;UBERON:0002544&#39;, &#39;rdfs:subClassOf&#39;, &#39;UBERON:0005881&#39;)</span>
</pre></div>
</div>
<p>And also for <span class="xref std std-term">Entailed Relationships</span> – this time specifying
the predicate <span class="xref std std-term">IS_A</span>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">oaklib.datamodels.vocabulary</span> <span class="kn">import</span> <span class="n">IS_A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">relationships</span><span class="p">([</span><span class="n">term_id</span><span class="p">],</span> <span class="n">predicates</span><span class="o">=</span><span class="p">[</span><span class="n">IS_A</span><span class="p">],</span> <span class="n">include_entailed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">rel</span><span class="p">)</span>

<span class="gp">...</span>
<span class="go">(&#39;UBERON:0002544&#39;, &#39;rdfs:subClassOf&#39;, &#39;UBERON:0001062&#39;)</span>
<span class="gp">...</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial02.html" class="btn btn-neutral float-left" title="Part 2: Basic Python" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial04.html" class="btn btn-neutral float-right" title="Part 4: OboGraphs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OAK developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>