<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OAK relationships command &mdash; oaklib  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=046fa432"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OAK rollup command" href="Rollup.html" />
    <link rel="prev" title="OAK paths command" href="Paths.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            oaklib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/index.html">The OAK Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packages/index.html">OAK Library Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datamodels/index.html">Datamodels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos/index.html">How-To Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Apply.html">OAK apply command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Associations.html">OAK associations command</a></li>
<li class="toctree-l3"><a class="reference internal" href="DiffViaMappings.html">OAK diff-via-mappings command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Disjoints.html">OAK disjoints command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Enrichment.html">OAK enrichment command</a></li>
<li class="toctree-l3"><a class="reference internal" href="LogicalDefinitions.html">OAK logical-definitions command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Mappings.html">OAK mappings command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Obsoletes.html">OAK obsoletes command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Paths.html">OAK paths command</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OAK relationships command</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Help-Option">Help Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Set-up-an-alias">Set up an alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Direct-relationships-for-a-subject-term">Direct relationships for a subject term</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Entailments">Entailments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Non-redundant-entailed-relationships">Non-redundant entailed relationships</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Rollup.html">OAK rollup command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Statistics.html">OAK statistics command</a></li>
<li class="toctree-l3"><a class="reference internal" href="TaxonConstraints.html">OAK taxon-constraints command</a></li>
<li class="toctree-l3"><a class="reference internal" href="TermsetSimilarity.html">OAK termset-similarity command</a></li>
<li class="toctree-l3"><a class="reference internal" href="ValidateDefinitions.html">OAK validate-definitions command</a></li>
<li class="toctree-l3"><a class="reference internal" href="ValidateMappings.html">OAK validate-mappings command</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Ontologies/index.html">Ontologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Adapters/index.html">Adapter Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Interfaces/index.html">Interfaces Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">oaklib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Examples</a></li>
          <li class="breadcrumb-item"><a href="index.html">Commands</a></li>
      <li class="breadcrumb-item active">OAK relationships command</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/Commands/Relationships.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="OAK-relationships-command">
<h1>OAK relationships command<a class="headerlink" href="#OAK-relationships-command" title="Link to this heading"></a></h1>
<p>This notebook is intended as a supplement to the <a class="reference external" href="https://incatools.github.io/ontology-access-kit/cli.html">main OAK CLI docs</a>.</p>
<p>This notebook provides examples for the <code class="docutils literal notranslate"><span class="pre">relationships</span></code> command, which can be used to lookup direct and inferred relationships between entities in ontologies.</p>
<p>Overall background on the concepts here can be found in the <a class="reference external" href="https://incatools.github.io/ontology-access-kit/guide/relationships-and-graphs.html">OAK Guide to Graphs and Relationships</a>.</p>
<section id="Help-Option">
<h2>Help Option<a class="headerlink" href="#Help-Option" title="Link to this heading"></a></h2>
<p>You can get help on any OAK command using <code class="docutils literal notranslate"><span class="pre">--help</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>runoak<span class="w"> </span>relationships<span class="w"> </span>--help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: runoak relationships [OPTIONS] [TERMS]...

  Show all relationships for a term or terms

  By default, this shows all relationships where the input term(s) are the
  *subjects*

  Example:

      runoak -i cl.db relationships CL:4023094

  Like all OAK commands, a label can be passed instead of a CURIE

  Example:

      runoak -i cl.db relationships neuron

  To reverse the direction, and query where the search term(s) are *objects*,
  use the --direction flag:

  Example:

      runoak -i cl.db relationships --direction down neuron

  Multiple terms can be passed

  Example:

      runoak -i uberon.db relationships heart liver lung

  And like all OAK commands, a query can be passed rather than an explicit
  term list

  The following query lists all arteries in the limb together which what
  structures they supply

  Query:

      runoak -i uberon.db relationships -p RO:0002178 .desc//p=i &#34;artery&#34; .and
      .desc//p=i,p &#34;limb&#34;

  More examples:

     https://github.com/INCATools/ontology-access-
     kit/blob/main/notebooks/Commands/Relationships.ipynb

  Python API:

     https://incatools.github.io/ontology-access-kit/interfaces/basic

Options:
  -p, --predicates TEXT           A comma-separated list of predicates. This
                                  may be a shorthand (i, p) or CURIE
  --direction [up|down|both]      direction of traversal over edges, which up
                                  is subject to object, down is object to
                                  subject.
  --autolabel / --no-autolabel    If set, results will automatically have
                                  labels assigned  [default: autolabel]
  -O, --output-type TEXT          Desired output type
  -o, --output FILENAME           Output file, e.g. obo file
  --if-absent [absent-only|present-only]
                                  determines behavior when the value is not
                                  present or is empty.
  -S, --set-value TEXT            the value to set for all terms for the given
                                  property.
  --include-entailed / --no-include-entailed
                                  Include entailed indirect relationships
                                  [default: no-include-entailed]
  --non-redundant-entailed / --no-non-redundant-entailed
                                  Include entailed but exclude entailed
                                  redundant relationships  [default: no-non-
                                  redundant-entailed]
  --include-tbox / --no-include-tbox
                                  Include class-class relationships (subclass
                                  and existentials)  [default: include-tbox]
  --include-abox / --no-include-abox
                                  Include instance relationships (class and
                                  object property assertions)  [default:
                                  include-abox]
  --include-metadata / --no-include-metadata
                                  Include metadata (axiom annotations)
                                  [default: no-include-metadata]
  --help                          Show this message and exit.
</pre></div></div>
</div>
</section>
<section id="Set-up-an-alias">
<h2>Set up an alias<a class="headerlink" href="#Set-up-an-alias" title="Link to this heading"></a></h2>
<p>For convenience we will set up an alias for use in this notebook. This will allow us to use <code class="docutils literal notranslate"><span class="pre">uberon</span> <span class="pre">...</span></code> rather than <code class="docutils literal notranslate"><span class="pre">runoak</span> <span class="pre">-i</span> <span class="pre">sqlite:obo:uberon</span> <span class="pre">...</span></code> for the rest of the notebook.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">uberon</span> <span class="n">runoak</span> <span class="o">-</span><span class="n">i</span> <span class="n">sqlite</span><span class="p">:</span><span class="n">obo</span><span class="p">:</span><span class="n">uberon</span>
</pre></div>
</div>
</div>
</section>
<section id="Direct-relationships-for-a-subject-term">
<h2>Direct relationships for a subject term<a class="headerlink" href="#Direct-relationships-for-a-subject-term" title="Link to this heading"></a></h2>
<p>First we will look up the direct <a class="reference external" href="https://incatools.github.io/ontology-access-kit/glossary.html#term-Asserted">asserted</a> relationships in Uberon with <code class="docutils literal notranslate"><span class="pre">finger</span></code> as the subject term.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="n">finger</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0002102  forelimb
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0002398  manus
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:5002389  manual digit plus metapodial segment
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0002544  digit
</pre></div></div>
</div>
<p>Like most OAK commands, the <code class="docutils literal notranslate"><span class="pre">relationships</span></code> command can take lists of labels, lists of IDs, or even complex query terms (which might themselves involve graphs).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="n">finger</span> <span class="n">toe</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0001466  pedal digit     BFO:0000050     part of UBERON:0002387  pes
UBERON:0001466  pedal digit     BFO:0000050     part of UBERON:0012142  pedal digitopodium region
UBERON:0001466  pedal digit     BFO:0000050     part of UBERON:5001466  pedal digit plus metapodial segment
UBERON:0001466  pedal digit     rdfs:subClassOf None    UBERON:0002544  digit
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0002102  forelimb
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0002398  manus
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:5002389  manual digit plus metapodial segment
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0002544  digit
</pre></div></div>
</div>
<p>Next we will show all direct relationships for all is-a descendants of <code class="docutils literal notranslate"><span class="pre">finger</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="o">.</span><span class="n">desc</span><span class="o">//</span><span class="n">p</span><span class="o">=</span><span class="n">i</span> <span class="n">finger</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0001463  manual digit 1  BFO:0000050     part of UBERON:0002398  manus
UBERON:0001463  manual digit 1  BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0001463  manual digit 1  BFO:0000050     part of UBERON:5001463  manual digit 1 plus metapodial segment
UBERON:0001463  manual digit 1  BSPO:0001113    preaxialmost part of    UBERON:0002398  manus
UBERON:0001463  manual digit 1  rdfs:subClassOf None    UBERON:0006048  digit 1
UBERON:0001463  manual digit 1  rdfs:subClassOf None    UBERON:0019231  manual digit 1 or 5
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0002102  forelimb
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0002398  manus
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0002389  manual digit    BFO:0000050     part of UBERON:5002389  manual digit plus metapodial segment
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0002544  digit
UBERON:0003622  manual digit 2  BFO:0000050     part of UBERON:0002398  manus
UBERON:0003622  manual digit 2  BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0003622  manual digit 2  BFO:0000050     part of UBERON:5003622  manual digit 2 plus metapodial segment
UBERON:0003622  manual digit 2  rdfs:subClassOf None    UBERON:0006049  digit 2
UBERON:0003622  manual digit 2  rdfs:subClassOf None    UBERON:0019232  manual digit 2, 3 or 4
UBERON:0003623  manual digit 3  BFO:0000050     part of UBERON:0002398  manus
UBERON:0003623  manual digit 3  BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0003623  manual digit 3  BFO:0000050     part of UBERON:5003623  manual digit 3 plus metapodial segment
UBERON:0003623  manual digit 3  rdfs:subClassOf None    UBERON:0006050  digit 3
UBERON:0003623  manual digit 3  rdfs:subClassOf None    UBERON:0019232  manual digit 2, 3 or 4
UBERON:0003624  manual digit 4  BFO:0000050     part of UBERON:0002398  manus
UBERON:0003624  manual digit 4  BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0003624  manual digit 4  BFO:0000050     part of UBERON:5003624  manual digit 4 plus metapodial segment
UBERON:0003624  manual digit 4  rdfs:subClassOf None    UBERON:0006051  digit 4
UBERON:0003624  manual digit 4  rdfs:subClassOf None    UBERON:0019232  manual digit 2, 3 or 4
UBERON:0003625  manual digit 5  BFO:0000050     part of UBERON:0002398  manus
UBERON:0003625  manual digit 5  BFO:0000050     part of UBERON:0012141  manual digitopodium region
UBERON:0003625  manual digit 5  BFO:0000050     part of UBERON:5003625  manual digit 5 plus metapodial segment
UBERON:0003625  manual digit 5  rdfs:subClassOf None    UBERON:0006052  digit 5
UBERON:0003625  manual digit 5  rdfs:subClassOf None    UBERON:0019231  manual digit 1 or 5
UBERON:0008444  webbed manual digit     BFO:0000050     part of UBERON:0008441  webbed manus
UBERON:0008444  webbed manual digit     rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0008444  webbed manual digit     rdfs:subClassOf None    UBERON:0008443  webbed digit
UBERON:0011981  manual digit 6  BFO:0000050     part of UBERON:5011981  manual digit 6 plus metapodial segment
UBERON:0011981  manual digit 6  rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0011981  manual digit 6  rdfs:subClassOf None    UBERON:0016856  digit 6
UBERON:0011982  manual digit 7  BFO:0000050     part of UBERON:5011982  manual digit 7 plus metapodial segment
UBERON:0011982  manual digit 7  rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0011982  manual digit 7  rdfs:subClassOf None    UBERON:0016857  digit 7
UBERON:0011983  manual digit 8  BFO:0000050     part of UBERON:5011983  manual digit 8 plus metapodial segment
UBERON:0011983  manual digit 8  rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0011983  manual digit 8  rdfs:subClassOf None    UBERON:0016858  digit 8
UBERON:0012260  alular digit    BFO:0000050     part of UBERON:5012260  alular digit plus metapodial segment
UBERON:0012260  alular digit    BSPO:0001113    preaxialmost part of    UBERON:0002398  manus
UBERON:0012260  alular digit    RO:0002160      only in taxon   NCBITaxon:8782  Aves
UBERON:0012260  alular digit    RO:0002254      has developmental contribution from     UBERON:0005692  manual digit 2 mesenchyme
UBERON:0012260  alular digit    RO:0002254      has developmental contribution from     UBERON:0010564  manual digit 1 mesenchyme
UBERON:0012260  alular digit    rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0012261  manual major digit (Aves)       BFO:0000050     part of UBERON:5012261  manual major digit (Aves) plus metapodial segment
UBERON:0012261  manual major digit (Aves)       RO:0002160      only in taxon   NCBITaxon:8782  Aves
UBERON:0012261  manual major digit (Aves)       RO:0002254      has developmental contribution from     UBERON:0005693  manual digit 3 mesenchyme
UBERON:0012261  manual major digit (Aves)       rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0012262  manual minor digit (Aves)       BFO:0000050     part of UBERON:5012262  manual minor digit (Aves) plus metapodial segment
UBERON:0012262  manual minor digit (Aves)       BSPO:0001115    postaxialmost part of   UBERON:0002398  manus
UBERON:0012262  manual minor digit (Aves)       RO:0002160      only in taxon   NCBITaxon:8782  Aves
UBERON:0012262  manual minor digit (Aves)       RO:0002254      has developmental contribution from     UBERON:0005694  manual digit 4 mesenchyme
UBERON:0012262  manual minor digit (Aves)       rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0019231  manual digit 1 or 5     BFO:0000050     part of UBERON:0002398  manus
UBERON:0019231  manual digit 1 or 5     rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0019231  manual digit 1 or 5     rdfs:subClassOf None    UBERON:0019221  digit 1 or 5
UBERON:0019232  manual digit 2, 3 or 4  BFO:0000050     part of UBERON:0002398  manus
UBERON:0019232  manual digit 2, 3 or 4  rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0019232  manual digit 2, 3 or 4  rdfs:subClassOf None    UBERON:0019222  digit 2, 3 or 4
</pre></div></div>
</div>
<p>We can write this out to a file and explore it using pandas.</p>
<p>(we use pandas here as this is convenient for Jupyter notebooks but if you were to execute this on the command line you could use any TSV or tabular tool you like)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="o">.</span><span class="n">desc</span><span class="o">//</span><span class="n">p</span><span class="o">=</span><span class="n">i</span> <span class="n">finger</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span><span class="o">/</span><span class="n">finger</span><span class="o">-</span><span class="n">relationships</span><span class="o">.</span><span class="n">tsv</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/finger-relationships.tsv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>subject</th>
      <th>subject_label</th>
      <th>predicate</th>
      <th>predicate_label</th>
      <th>object</th>
      <th>object_label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UBERON:0001463</td>
      <td>manual digit 1</td>
      <td>BFO:0000050</td>
      <td>part of</td>
      <td>UBERON:0002398</td>
      <td>manus</td>
    </tr>
    <tr>
      <th>1</th>
      <td>UBERON:0001463</td>
      <td>manual digit 1</td>
      <td>BFO:0000050</td>
      <td>part of</td>
      <td>UBERON:0012141</td>
      <td>manual digitopodium region</td>
    </tr>
    <tr>
      <th>2</th>
      <td>UBERON:0001463</td>
      <td>manual digit 1</td>
      <td>BFO:0000050</td>
      <td>part of</td>
      <td>UBERON:5001463</td>
      <td>manual digit 1 plus metapodial segment</td>
    </tr>
    <tr>
      <th>3</th>
      <td>UBERON:0001463</td>
      <td>manual digit 1</td>
      <td>BSPO:0001113</td>
      <td>preaxialmost part of</td>
      <td>UBERON:0002398</td>
      <td>manus</td>
    </tr>
    <tr>
      <th>4</th>
      <td>UBERON:0001463</td>
      <td>manual digit 1</td>
      <td>rdfs:subClassOf</td>
      <td>NaN</td>
      <td>UBERON:0006048</td>
      <td>digit 1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>59</th>
      <td>UBERON:0019231</td>
      <td>manual digit 1 or 5</td>
      <td>rdfs:subClassOf</td>
      <td>NaN</td>
      <td>UBERON:0002389</td>
      <td>manual digit</td>
    </tr>
    <tr>
      <th>60</th>
      <td>UBERON:0019231</td>
      <td>manual digit 1 or 5</td>
      <td>rdfs:subClassOf</td>
      <td>NaN</td>
      <td>UBERON:0019221</td>
      <td>digit 1 or 5</td>
    </tr>
    <tr>
      <th>61</th>
      <td>UBERON:0019232</td>
      <td>manual digit 2, 3 or 4</td>
      <td>BFO:0000050</td>
      <td>part of</td>
      <td>UBERON:0002398</td>
      <td>manus</td>
    </tr>
    <tr>
      <th>62</th>
      <td>UBERON:0019232</td>
      <td>manual digit 2, 3 or 4</td>
      <td>rdfs:subClassOf</td>
      <td>NaN</td>
      <td>UBERON:0002389</td>
      <td>manual digit</td>
    </tr>
    <tr>
      <th>63</th>
      <td>UBERON:0019232</td>
      <td>manual digit 2, 3 or 4</td>
      <td>rdfs:subClassOf</td>
      <td>NaN</td>
      <td>UBERON:0019222</td>
      <td>digit 2, 3 or 4</td>
    </tr>
  </tbody>
</table>
<p>64 rows × 6 columns</p>
</div></div>
</div>
</section>
<section id="Entailments">
<h2>Entailments<a class="headerlink" href="#Entailments" title="Link to this heading"></a></h2>
<p>Next we will look at <a class="reference external" href="https://incatools.github.io/ontology-access-kit/glossary.html#term-Entailed">Entailed</a> relationships.</p>
<p>You are encouraged to consult the OAK guide and glossary here but the basic idea is that entailed relationships encompasses “walking up” the relationship graph, following a specified set of <a class="reference external" href="https://incatools.github.io/ontology-access-kit/glossary.html#term-Predicate">predicates</a>.</p>
<p>First we’ll look at the is-a ancestors of <code class="docutils literal notranslate"><span class="pre">finger</span></code>. Note the results here should be the same as using the <code class="docutils literal notranslate"><span class="pre">ancestors</span></code> command:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="n">finger</span> <span class="o">--</span><span class="n">include</span><span class="o">-</span><span class="n">entailed</span> <span class="o">-</span><span class="n">p</span> <span class="n">i</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0002389  manual digit    rdfs:subClassOf None    BFO:0000001     entity
UBERON:0002389  manual digit    rdfs:subClassOf None    BFO:0000002     continuant
UBERON:0002389  manual digit    rdfs:subClassOf None    BFO:0000004     independent continuant
UBERON:0002389  manual digit    rdfs:subClassOf None    BFO:0000040     material entity
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0000061  anatomical structure
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0000465  material anatomical entity
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0000475  organism subdivision
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0001062  anatomical entity
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0002389  manual digit
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0002544  digit
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0005881  autopodial extension
UBERON:0002389  manual digit    rdfs:subClassOf None    UBERON:0010000  multicellular anatomical structure
</pre></div></div>
</div>
<p>Next we’ll include a wider range of predicates. We’ll also switch our example to be <code class="docutils literal notranslate"><span class="pre">trigeminal</span> <span class="pre">ganglion</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="s2">&quot;trigeminal ganglion&quot;</span> <span class="o">--</span><span class="n">include</span><span class="o">-</span><span class="n">entailed</span> <span class="o">-</span><span class="n">p</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of BFO:0000001     entity
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of BFO:0000002     continuant
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of BFO:0000004     independent continuant
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of BFO:0000040     material entity
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of RO:0002577      system
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000033  head
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000061  anatomical structure
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000153  anterior region of body
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000465  material anatomical entity
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000467  anatomical system
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000468  multicellular organism
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000475  organism subdivision
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0001016  nervous system
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0001062  anatomical entity
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0007811  craniocervical region
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0010000  multicellular anatomical structure
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0011676  subdivision of organism along main body axis
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0013701  main body axis
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0013702  body proper
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    BFO:0000001     entity
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    BFO:0000002     continuant
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    BFO:0000004     independent continuant
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    BFO:0000040     material entity
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0000045  ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0000061  anatomical structure
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0000465  material anatomical entity
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001062  anatomical entity
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001675  trigeminal ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001714  cranial ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001800  sensory ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0004121  ectoderm-derived structure
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0010313  neural crest-derived structure
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0010314  structure with developmental contribution from neural crest
</pre></div></div>
</div>
<p>We can see if the query above we get a lot of entailed relationships! Usually we wouldn’t show this as a table to a user - instead we might use the <code class="docutils literal notranslate"><span class="pre">viz</span></code> command to show all individual direct relationships for all ancestors.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">viz</span> <span class="o">-</span><span class="n">p</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span> <span class="s2">&quot;trigeminal ganglion&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span><span class="o">/</span><span class="n">trigeminal</span><span class="o">-</span><span class="n">ganglion</span><span class="o">-</span><span class="n">graph</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
</div>
<img alt="img" src="../../_images/trigeminal-ganglion-graph.png" />
<p>This is a standard way of communicating a complex bundle of relationships. But is there a way of getting the <em>non-redundant</em> informative entailed relationships in a more concise way?</p>
</section>
<section id="Non-redundant-entailed-relationships">
<h2>Non-redundant entailed relationships<a class="headerlink" href="#Non-redundant-entailed-relationships" title="Link to this heading"></a></h2>
<p>Is there a way to get the most relevant information in a more concise way, as a table.</p>
<p>Let’s consider the term “trigeminal ganglion” again. Let’s look at direct relationships</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="n">uberon</span> <span class="n">relationships</span> <span class="s2">&quot;trigeminal ganglion&quot;</span> <span class="o">-</span><span class="n">p</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001714  cranial ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001800  sensory ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0010313  neural crest-derived structure
</pre></div></div>
</div>
<p>These are all correct but don’t tell us what this ganglion is a part of. Using the <code class="docutils literal notranslate"><span class="pre">--include-entailed</span></code> option above gives <strong>too much</strong> information.</p>
<p>OAK now has a <code class="docutils literal notranslate"><span class="pre">--non-redundant-entailed</span></code> option which effectively “rolls down” the entailed relationships for each predicate:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="n">uberon</span> <span class="n">relationships</span> <span class="o">--</span><span class="n">non</span><span class="o">-</span><span class="n">redundant</span><span class="o">-</span><span class="n">entailed</span> <span class="s2">&quot;trigeminal ganglion&quot;</span> <span class="o">-</span><span class="n">p</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of RO:0002577      system
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0000033  head
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of UBERON:0001016  nervous system
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001714  cranial ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001800  sensory ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0010313  neural crest-derived structure
</pre></div></div>
</div>
<p>Note that even though 3 part-parents are provided, these are all technically non-redundant, as they are all “proper” overlaps (the <code class="docutils literal notranslate"><span class="pre">system</span></code> term is odd, but this is an artefact of RO imports, and in fact uberon doesn’t place ‘nervous system’ under ‘system’)</p>
<p>We can do this for other relationships too:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">relationships</span> <span class="n">uberon</span> <span class="n">relationships</span> <span class="o">--</span><span class="n">non</span><span class="o">-</span><span class="n">redundant</span><span class="o">-</span><span class="n">entailed</span> <span class="s2">&quot;trigeminal ganglion&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject subject_label   predicate       predicate_label object  object_label
UBERON:0001675  trigeminal ganglion     BFO:0000050     part of RO:0002577      system
UBERON:0001675  trigeminal ganglion     BFO:0000051     has part        UBERON:0003714  neural tissue
UBERON:0001675  trigeminal ganglion     RO:0002131      overlaps        RO:0002577      system
UBERON:0001675  trigeminal ganglion     RO:0002131      overlaps        UBERON:0003714  neural tissue
UBERON:0001675  trigeminal ganglion     RO:0002162      in taxon        NCBITaxon:7742  Vertebrata &lt;vertebrates&gt;
UBERON:0001675  trigeminal ganglion     RO:0002170      connected to    UBERON:0001027  sensory nerve
UBERON:0001675  trigeminal ganglion     RO:0002170      connected to    UBERON:0001645  trigeminal nerve
UBERON:0001675  trigeminal ganglion     RO:0002202      develops from   UBERON:0006304  future trigeminal ganglion
UBERON:0001675  trigeminal ganglion     RO:0002207      directly develops from  UBERON:0006304  future trigeminal ganglion
UBERON:0001675  trigeminal ganglion     RO:0002225      develops from part of   UBERON:0000922  embryo
UBERON:0001675  trigeminal ganglion     RO:0002254      has developmental contribution from     UBERON:0006304  future trigeminal ganglion
UBERON:0001675  trigeminal ganglion     RO:0002258      developmentally preceded by     UBERON:0006304  future trigeminal ganglion
UBERON:0001675  trigeminal ganglion     RO:0002328      functionally related to GO:0019226      transmission of nerve impulse
UBERON:0001675  trigeminal ganglion     RO:0002329      part of structure that is capable of    GO:0050877      nervous system process
UBERON:0001675  trigeminal ganglion     RO:0002473      composed primarily of   UBERON:0003714  neural tissue
UBERON:0001675  trigeminal ganglion     RO:0002494      transformation of       UBERON:0006304  future trigeminal ganglion
UBERON:0001675  trigeminal ganglion     RO:0002495      immediate transformation of     UBERON:0006304  future trigeminal ganglion
UBERON:0001675  trigeminal ganglion     RO:0002496      existence starts during or after        UBERON:0000110  neurula stage
UBERON:0001675  trigeminal ganglion     RO:0002496      existence starts during or after        UBERON:0000111  organogenesis stage
UBERON:0001675  trigeminal ganglion     RO:0002497      existence ends during or before UBERON:0000066  fully formed stage
UBERON:0001675  trigeminal ganglion     RO:0002584      has part structure that is capable of   GO:0019226      transmission of nerve impulse
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001714  cranial ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0001800  sensory ganglion
UBERON:0001675  trigeminal ganglion     rdfs:subClassOf None    UBERON:0010313  neural crest-derived structure
UBERON:0001675  trigeminal ganglion     uberon/core#extends:fibers_into None    UBERON:0001027  sensory nerve
UBERON:0001675  trigeminal ganglion     uberon/core#extends:fibers_into None    UBERON:0001645  trigeminal nerve
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Paths.html" class="btn btn-neutral float-left" title="OAK paths command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Rollup.html" class="btn btn-neutral float-right" title="OAK rollup command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2025, OAK developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>