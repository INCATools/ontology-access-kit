<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OAK mappings command &mdash; oaklib  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=046fa432"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OAK obsoletes command" href="Obsoletes.html" />
    <link rel="prev" title="OAK logical-definitions command" href="LogicalDefinitions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            oaklib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/index.html">The OAK Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packages/index.html">OAK Library Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datamodels/index.html">Datamodels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos/index.html">How-To Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Apply.html">OAK apply command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Associations.html">OAK associations command</a></li>
<li class="toctree-l3"><a class="reference internal" href="DiffViaMappings.html">OAK diff-via-mappings command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Disjoints.html">OAK disjoints command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Enrichment.html">OAK enrichment command</a></li>
<li class="toctree-l3"><a class="reference internal" href="LogicalDefinitions.html">OAK logical-definitions command</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OAK mappings command</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Help-Option">Help Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Set-up-an-alias">Set up an alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Direct-mappings-for-a-subject-term">Direct mappings for a subject term</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Mapping-via-reciprocal-term">Mapping via reciprocal term</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Complex-queries">Complex queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Predicates">Predicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Generating-Mappings">Generating Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Validating-Mappings">Validating Mappings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Obsoletes.html">OAK obsoletes command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Paths.html">OAK paths command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Relationships.html">OAK relationships command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Rollup.html">OAK rollup command</a></li>
<li class="toctree-l3"><a class="reference internal" href="Statistics.html">OAK statistics command</a></li>
<li class="toctree-l3"><a class="reference internal" href="TaxonConstraints.html">OAK taxon-constraints command</a></li>
<li class="toctree-l3"><a class="reference internal" href="TermsetSimilarity.html">OAK termset-similarity command</a></li>
<li class="toctree-l3"><a class="reference internal" href="ValidateDefinitions.html">OAK validate-definitions command</a></li>
<li class="toctree-l3"><a class="reference internal" href="ValidateMappings.html">OAK validate-mappings command</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Ontologies/index.html">Ontologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Adapters/index.html">Adapter Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Interfaces/index.html">Interfaces Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">oaklib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Examples</a></li>
          <li class="breadcrumb-item"><a href="index.html">Commands</a></li>
      <li class="breadcrumb-item active">OAK mappings command</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/Commands/Mappings.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="OAK-mappings-command">
<h1>OAK mappings command<a class="headerlink" href="#OAK-mappings-command" title="Link to this heading"></a></h1>
<p>This notebook is intended as a supplement to the <a class="reference external" href="https://incatools.github.io/ontology-access-kit/cli.html">main OAK CLI docs</a>.</p>
<p>This notebook provides examples for the <code class="docutils literal notranslate"><span class="pre">mappings</span></code> command, which can be used to lookup mappings that are bundled with ontologies.</p>
<p>Overall background on the concepts here can be found in the <a class="reference external" href="https://incatools.github.io/ontology-access-kit/guide/mappings.html">OAK Guide to Mappings</a>.</p>
<section id="Help-Option">
<h2>Help Option<a class="headerlink" href="#Help-Option" title="Link to this heading"></a></h2>
<p>You can get help on any OAK command using <code class="docutils literal notranslate"><span class="pre">--help</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>runoak<span class="w"> </span>mappings<span class="w"> </span>--help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: runoak mappings [OPTIONS] [TERMS]...

  List all mappings encoded in the ontology

  Example:

      runoak -i sqlite:obo:envo mappings

  The default output is SSSOM YAML. To use the (canonical) csv format:

      runoak -i sqlite:obo:envo mappings -O sssom

  By default, labels are not included. Use --autolabel to include labels (but
  note that if the label is not in the source ontology, then no label will be
  retrieved)

      runoak -i sqlite:obo:envo mappings -O sssom

  To constrain the mapped object source:

      runoak -i sqlite:obo:foodon mappings -O sssom --maps-to-source
      SUBSET_SIREN

  Python API:

     https://incatools.github.io/ontology-access-kit/interfaces/mapping-
     provider

  Data model:

     https://w3id.org/oak/mapping-provider

Options:
  -o, --output FILENAME         Output file, e.g. obo file
  -O, --output-type TEXT        Desired output type
  --autolabel / --no-autolabel  If set, results will automatically have labels
                                assigned  [default: autolabel]
  -M, --maps-to-source TEXT     Return only mappings with subject or object
                                source equal to this
  --mapper TEXT                 A selector for an adapter that is to be used
                                for the main lookup operation
  --help                        Show this message and exit.
</pre></div></div>
</div>
</section>
<section id="Set-up-an-alias">
<h2>Set up an alias<a class="headerlink" href="#Set-up-an-alias" title="Link to this heading"></a></h2>
<p>For convenience we will set up an alias for use in this notebook. This will allow us to use <code class="docutils literal notranslate"><span class="pre">uberon</span> <span class="pre">...</span></code> rather than <code class="docutils literal notranslate"><span class="pre">runoak</span> <span class="pre">-i</span> <span class="pre">sqlite:obo:uberon</span> <span class="pre">...</span></code> for the rest of the notebook.</p>
<p>We use Uberon as an example, as Uberon bundles a lot of diverse mappings. See <a class="reference external" href="https://obophenotype.github.io/uberon/bridges/">Uberon docs</a>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">uberon</span> <span class="n">runoak</span> <span class="o">-</span><span class="n">i</span> <span class="n">sqlite</span><span class="p">:</span><span class="n">obo</span><span class="p">:</span><span class="n">uberon</span>
</pre></div>
</div>
</div>
</section>
<section id="Direct-mappings-for-a-subject-term">
<h2>Direct mappings for a subject term<a class="headerlink" href="#Direct-mappings-for-a-subject-term" title="Link to this heading"></a></h2>
<p>First we will look up the mappings for the Uberon term for the CA4 region of the hippocampus</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">mappings</span> <span class="n">UBERON</span><span class="p">:</span><span class="mi">0003884</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: DHBA:10300
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: DHBA

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: EFO:0002457
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: EFO

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: EMAPA:32771
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: EMAPA

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: FMA:75741
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: FMA

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: HBA:12895
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: HBA

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: MA:0000953
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: MA

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: NCIT:C32249
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: NCIT

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: PBA:10074
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: PBA

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: UMLS:C2328406
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: UMLS

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: Wikipedia:Region_IV_of_hippocampus_proper
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: Wikipedia

---
subject_id: UBERON:0003884
predicate_id: oio:hasDbXref
object_id: neuronames:181
mapping_justification: semapv:UnspecifiedMatching
subject_label: CA4 field of hippocampus
subject_source: UBERON
object_source: neuronames
</pre></div></div>
</div>
<p>The above YAML follow the SSSOM datamodel (<a class="reference external" href="https://w3id.org/sssom">https://w3id.org/sssom</a>).</p>
<p>We can get the results back in SSSOM tsv format (this time querying for “brain”). Here we will view it via pandas:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">mappings</span> <span class="n">UBERON</span><span class="p">:</span><span class="mi">0000955</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span><span class="o">/</span><span class="n">brain</span><span class="o">-</span><span class="n">mappings</span><span class="o">.</span><span class="n">tsv</span> <span class="o">-</span><span class="n">O</span> <span class="n">sssom</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/Users/cjm/Library/Caches/pypoetry/virtualenvs/oaklib-OeQZizwE-py3.9/lib/python3.9/site-packages/sssom/util.py:168: FutureWarning: Downcasting behavior in `replace` is deprecated and will be removed in a future version. To retain the old behavior, explicitly call `result.infer_objects(copy=False)`. To opt-in to the future behavior, set `pd.set_option(&#39;future.no_silent_downcasting&#39;, True)`
  df.replace(&#34;&#34;, np.nan, inplace=True)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/brain-mappings.tsv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>subject_id</th>
      <th>subject_label</th>
      <th>predicate_id</th>
      <th>object_id</th>
      <th>object_label</th>
      <th>mapping_justification</th>
      <th>subject_source</th>
      <th>object_source</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>AAO:0010478</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>AAO</td>
    </tr>
    <tr>
      <th>1</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>ABA:Brain</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ABA</td>
    </tr>
    <tr>
      <th>2</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>BAMS:Br</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>BAMS</td>
    </tr>
    <tr>
      <th>3</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>BAMS:Brain</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>BAMS</td>
    </tr>
    <tr>
      <th>4</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>BILA:0000135</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>BILA</td>
    </tr>
    <tr>
      <th>5</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>BIRNLEX:796</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>BIRNLEX</td>
    </tr>
    <tr>
      <th>6</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>BTO:0000142</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>BTO</td>
    </tr>
    <tr>
      <th>7</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>CALOHA:TS-0095</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>CALOHA</td>
    </tr>
    <tr>
      <th>8</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>DHBA:10155</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>DHBA</td>
    </tr>
    <tr>
      <th>9</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>EFO:0000302</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>EFO</td>
    </tr>
    <tr>
      <th>10</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>EHDAA2:0000183</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>EHDAA2</td>
    </tr>
    <tr>
      <th>11</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>EHDAA:2641</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>EHDAA</td>
    </tr>
    <tr>
      <th>12</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>EHDAA:6485</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>EHDAA</td>
    </tr>
    <tr>
      <th>13</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>EMAPA:16894</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>EMAPA</td>
    </tr>
    <tr>
      <th>14</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>EV:0100164</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>EV</td>
    </tr>
    <tr>
      <th>15</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>FBbt:00005095</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>FBbt</td>
    </tr>
    <tr>
      <th>16</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>FMA:50801</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>FMA</td>
    </tr>
    <tr>
      <th>17</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>GAID:571</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>GAID</td>
    </tr>
    <tr>
      <th>18</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>HBA:4005</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>HBA</td>
    </tr>
    <tr>
      <th>19</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>MA:0000168</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>MA</td>
    </tr>
    <tr>
      <th>20</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>MAT:0000098</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>MAT</td>
    </tr>
    <tr>
      <th>21</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>MBA:8</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>MBA</td>
    </tr>
    <tr>
      <th>22</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>MBA:997</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>MBA</td>
    </tr>
    <tr>
      <th>23</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>MESH:D001921</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>MESH</td>
    </tr>
    <tr>
      <th>24</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>MIAA:0000098</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>MIAA</td>
    </tr>
    <tr>
      <th>25</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>NCIT:C12439</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>NCIT</td>
    </tr>
    <tr>
      <th>26</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>PBA:3999</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>PBA</td>
    </tr>
    <tr>
      <th>27</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>SCTID:258335003</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>SCTID</td>
    </tr>
    <tr>
      <th>28</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>TAO:0000008</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>TAO</td>
    </tr>
    <tr>
      <th>29</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>UMLS:C0006104</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>UMLS</td>
    </tr>
    <tr>
      <th>30</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>UMLS:C1269537</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>UMLS</td>
    </tr>
    <tr>
      <th>31</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>VHOG:0000157</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>VHOG</td>
    </tr>
    <tr>
      <th>32</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>Wikipedia:Brain</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>Wikipedia</td>
    </tr>
    <tr>
      <th>33</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>XAO:0000010</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>XAO</td>
    </tr>
    <tr>
      <th>34</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0000008</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>35</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>galen:Brain</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>galen</td>
    </tr>
    <tr>
      <th>36</th>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>oio:hasDbXref</td>
      <td>neuronames:21</td>
      <td>NaN</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>neuronames</td>
    </tr>
    <tr>
      <th>37</th>
      <td>_:riog00027434</td>
      <td>NaN</td>
      <td>oio:hasDbXref</td>
      <td>UBERON:0000955</td>
      <td>brain</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>_</td>
      <td>UBERON</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>If we are only interested in a particular source we can use <code class="docutils literal notranslate"><span class="pre">--maps-to-source</span></code> (<code class="docutils literal notranslate"><span class="pre">-M</span></code>).</p>
<p>E.g to filter to the Allen institute Developmental Human Brain Atlas (DHBA):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">uberon</span> <span class="n">mappings</span> <span class="n">UBERON</span><span class="p">:</span><span class="mi">0000955</span> <span class="o">-</span><span class="n">M</span> <span class="n">DHBA</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject_id: UBERON:0000955
predicate_id: oio:hasDbXref
object_id: DHBA:10155
mapping_justification: semapv:UnspecifiedMatching
subject_label: brain
subject_source: UBERON
object_source: DHBA
</pre></div></div>
</div>
<p>In theory all mappings should be to CURIEs registered in bioregistry.io, but in practice different ontologies may have a number of ad-hoc unmapped targets,</p>
</section>
<section id="Mapping-via-reciprocal-term">
<h2>Mapping via reciprocal term<a class="headerlink" href="#Mapping-via-reciprocal-term" title="Link to this heading"></a></h2>
<p>We can also query Uberon for mappings to an external term:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">uberon</span> <span class="n">mappings</span> <span class="n">DHBA</span><span class="p">:</span><span class="mi">10155</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
subject_id: UBERON:0000955
predicate_id: oio:hasDbXref
object_id: DHBA:10155
mapping_justification: semapv:UnspecifiedMatching
subject_label: brain
subject_source: UBERON
object_source: DHBA
</pre></div></div>
</div>
</section>
<section id="Complex-queries">
<h2>Complex queries<a class="headerlink" href="#Complex-queries" title="Link to this heading"></a></h2>
<p>Like most OAK commands, the <code class="docutils literal notranslate"><span class="pre">mapping</span></code> command can take lists of labels, lists of IDs, or even complex query terms (which might themselves involve graphs).</p>
<p>For example, we can look up mappings for all brain regions:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uberon</span> <span class="n">mappings</span> <span class="o">.</span><span class="n">desc</span><span class="o">//</span><span class="n">p</span><span class="o">=</span><span class="n">i</span><span class="p">,</span><span class="n">p</span> <span class="n">brain</span> <span class="o">-</span><span class="n">M</span> <span class="n">ZFA</span> <span class="o">-</span><span class="n">O</span> <span class="n">sssom</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span><span class="o">/</span><span class="nb">all</span><span class="o">-</span><span class="n">brain</span><span class="o">-</span><span class="n">zfa</span><span class="o">-</span><span class="n">mappings</span><span class="o">.</span><span class="n">tsv</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
/Users/cjm/Library/Caches/pypoetry/virtualenvs/oaklib-OeQZizwE-py3.9/lib/python3.9/site-packages/sssom/util.py:168: FutureWarning: Downcasting behavior in `replace` is deprecated and will be removed in a future version. To retain the old behavior, explicitly call `result.infer_objects(copy=False)`. To opt-in to the future behavior, set `pd.set_option(&#39;future.no_silent_downcasting&#39;, True)`
  df.replace(&#34;&#34;, np.nan, inplace=True)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;output/all-brain-zfa-mappings.tsv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>subject_id</th>
      <th>subject_label</th>
      <th>predicate_id</th>
      <th>object_id</th>
      <th>mapping_justification</th>
      <th>subject_source</th>
      <th>object_source</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UBERON:0000007</td>
      <td>pituitary gland</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0000118</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>1</th>
      <td>UBERON:0000203</td>
      <td>pallium</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0000505</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>2</th>
      <td>UBERON:0000204</td>
      <td>ventral part of telencephalon</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0000304</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>3</th>
      <td>UBERON:0000430</td>
      <td>ventral intermediate nucleus of thalamus</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0000370</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>4</th>
      <td>UBERON:0000935</td>
      <td>anterior commissure</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0001108</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>280</th>
      <td>UBERON:2005340</td>
      <td>nucleus of the posterior recess</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0005340</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>281</th>
      <td>UBERON:2007001</td>
      <td>dorso-rostral cluster</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0007001</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>282</th>
      <td>UBERON:2007002</td>
      <td>ventro-rostral cluster</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0007002</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>283</th>
      <td>UBERON:2007003</td>
      <td>ventro-caudal cluster</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0007003</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
    <tr>
      <th>284</th>
      <td>UBERON:2007004</td>
      <td>epiphysial cluster</td>
      <td>oio:hasDbXref</td>
      <td>ZFA:0007004</td>
      <td>semapv:UnspecifiedMatching</td>
      <td>UBERON</td>
      <td>ZFA</td>
    </tr>
  </tbody>
</table>
<p>285 rows × 7 columns</p>
</div></div>
</div>
</section>
<section id="Predicates">
<h2>Predicates<a class="headerlink" href="#Predicates" title="Link to this heading"></a></h2>
<p>At the time of writing most ontologies bundle their mappings as oio:hasDbXref in the ontology. Some ontologies are starting to release richer SSSOM files. Other ontologies include both xref mappings and mappings with richer skos predicates as a part of the ontology release (this allows for backwards compatibility with tools that expect xrefs, but allows more modern tools to use the richer mappings).</p>
<p>We will use mondo as an example here</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">mondo</span> <span class="n">runoak</span> <span class="o">-</span><span class="n">i</span> <span class="n">sqlite</span><span class="p">:</span><span class="n">obo</span><span class="p">:</span><span class="n">mondo</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mondo</span> <span class="n">mappings</span>  <span class="n">MONDO</span><span class="p">:</span><span class="mi">0000179</span> <span class="o">-</span><span class="n">M</span> <span class="n">NCIT</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ERROR:root:Skipping statements(subject=MONDO:0000179,predicate=skos:exactMatch,object=&lt;https://omim.org/phenotypicSeries/PS256520&gt;,value=None,datatype=None,language=None,); ValueError: &lt;https://omim.org/phenotypicSeries/PS256520&gt; is not a valid URI or CURIE
subject_id: MONDO:0000179
predicate_id: oio:hasDbXref
object_id: NCIT:C14089
mapping_justification: semapv:UnspecifiedMatching
subject_label: Neu-Laxova syndrome
subject_source: MONDO
object_source: NCIT

---
subject_id: MONDO:0000179
predicate_id: skos:exactMatch
object_id: NCIT:C14089
mapping_justification: semapv:UnspecifiedMatching
subject_label: Neu-Laxova syndrome
subject_source: MONDO
object_source: NCIT
</pre></div></div>
</div>
<p>Here we can see what appears to be a duplicate mapping - but this is on purpose, Mondo includes the xref for backwards compatibility, and the skos:exactMatch for more modern tools.</p>
</section>
<section id="Generating-Mappings">
<h2>Generating Mappings<a class="headerlink" href="#Generating-Mappings" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">lexmatch</span></code> command can be used to generate mappings between ontologies. This is a complex topic and is covered in the <a class="reference external" href="https://incatools.github.io/ontology-access-kit/guide/mappings.html">OAK Guide to Mappings</a>.</p>
<p>See also <a class="reference external" href="https://oboacademy.github.io/obook/tutorial/lexmatch-tutorial/">OBO Academy section of lexmatch</a></p>
</section>
<section id="Validating-Mappings">
<h2>Validating Mappings<a class="headerlink" href="#Validating-Mappings" title="Link to this heading"></a></h2>
<p>See the <a class="reference internal" href="ValidateMappings.html"><span class="doc">ValidateMappings</span></a> notebook for details on how to validate mappings using rule-based and LLM methods.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="LogicalDefinitions.html" class="btn btn-neutral float-left" title="OAK logical-definitions command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Obsoletes.html" class="btn btn-neutral float-right" title="OAK obsoletes command" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, OAK developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>